let DateVars={weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekday:(e,t=!1)=>t?DateVars.weekdays[e].substr(0,3):DateVars.weekdays[e],month:(e,t=!1)=>t?DateVars.months[e].substr(0,3):DateVars.months[e],monthSuffix:e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}};Date.prototype.addDays=function(e){let t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t},Date.prototype.getWeek=function(e=!1){let t=new Date(this.valueOf()),s=(this.getDay()+6)%7;t.setDate(t.getDate()-s+3);let r=t.valueOf();return t.setMonth(0,1),4!==t.getDay()&&t.setMonth(0,(e?0:1)+(4-t.getDay()+7)%7),1+Math.ceil((r-t)/6048e5)},Date.prototype.nextDay=function(e){let t=new Date(this.valueOf());return t.setDate(t.getDate()+(e+(7-t.getDay()))%7),t},Date.prototype.format=function(e){let t="";return forAllIn(e.split(""),e=>{switch(e){case"d":return void(t+=("0"+this.getDate()).slice(-2));case"D":return void(t+=DateVars.weekday(this.getDay(),!0));case"j":return void(t+=this.getDate());case"l":return void(t+=DateVars.weekday(this.getDay()));case"N":let r=this.getDay();return void(t+=0==r?7:r);case"S":return void(t+=DateVars.monthSuffix(this.getDate()));case"w":return void(t+=this.getDay());case"z":return void(t+=this.dayOfYear());case"W":return void(t+=("0"+this.getWeek()).slice(-2));case"F":return void(t+=DateVars.month(this.getMonth()));case"m":return void(t+=("0"+(this.getMonth()+1)).slice(-2));case"M":return void(t+=DateVars.month(this.getMonth(),!0));case"n":return void(t+=this.getMonth()+1);case"t":return void(t+=new Date(this.getFullYear(),this.getMonth()+1,0).getDate());case"L":return void(t+=29==new Date(this.getFullYear(),2,0).getDate()?1:0);case"Y":return void(t+=this.getFullYear());case"y":return void(t+=this.getFullYear().toString().substr(2));case"a":return void(t+=this.getHours()>=12?"pm":"am");case"A":return void(t+=this.getHours()>=12?"PM":"AM");case"g":let a=this.getHours();return void(t+=a>12?a-12:a);case"G":return void(t+=this.getHours());case"h":let i=this.getHours();return void(t+=("0"+(i>12?i-12:i)).slice(-2));case"H":return void(t+=("0"+this.getHours()).slice(-2));case"i":return void(t+=("0"+this.getMinutes()).slice(-2));case"s":return void(t+=("0"+this.getSeconds()).slice(-2));case"v":return void(t+=this.getMilliseconds());case"U":return void(t+=this.getTime());case"I":return void(t+=this.isSummerTime()?1:0);case"O":let n=s(this.getTimezoneOffset());return void(t+=(n[0]?"-":"+")+("0"+n[1]).slice(-2)+("0"+n[2]).slice(-2));case"P":let o=s(this.getTimezoneOffset());return void(t+=(o[0]?"-":"+")+("0"+o[1]).slice(-2)+":"+("0"+o[2]).slice(-2));default:t+=e}}),t;function s(e){return[e<0,(e=Math.abs(e))/60,60*(e-Math.floor(e))]}},Date.prototype.isSummerTime=function(){let e=new Date(this.getFullYear(),0,1),t=new Date(this.getFullYear(),6,1),s=Math.max(e.getTimezoneOffset(),t.getTimezoneOffset());return this.getTimezoneOffset()<s},Date.prototype.dayOfYear=function(){return Math.floor(new Date(this.getFullYear(),this.getMonth(),this.getDate()).getTime()/864e5)-Math.floor(new Date(this.getFullYear(),0,1).getTime()/864e5)};
